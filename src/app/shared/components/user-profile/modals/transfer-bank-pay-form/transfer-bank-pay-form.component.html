<div class="transfer__box w-100 d-flex justify-content-center py-4" *ngIf="!isPayed; else showPayed">
    <form action="" 
          [formGroup]="sendMoneyForm"
          class="w-100"
          (ngSubmit)="transferToBank(sendMoneyForm)">
    
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="phone"> {{ 'transfer_funds.phone' | translate }} </label>
            <input type="text"  
                    class=""
                    id="phone"
                    name="phone"
                    placeholder=""
                    formControlName="agentName">
        </div>
    
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="amount"> {{ 'transfer_funds.amount' | translate }} </label>
            <input type="text" 
                    class=""
                    id="amount"
                    name="amount"
                    placeholder=""
                    formControlName="amount">
        </div>
    
     
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="description"> {{ 'transfer_funds.description' | translate }} </label>
            <input type="text" 
                    class=""
                    name="description"
                    id="description"
                    placeholder=""
                    formControlName="description">
        </div>
    
     
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="fullname"> {{ 'transfer_funds.fullname' | translate }} </label>
            <input type="text" 
                    class=""
                    id="fullname"
                    name="fullname"
                    placeholder=""
                    formControlName="fullName">
        </div>  
    
    
     
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="sms">SMS code</label>
            <div class=" d-flex justify-content-between">
            <input type="text" 
                    class=""
                    id="sms"
                    name="sms"
                    placeholder=""
                    formControlName="otp">
                <div class="px-3" style="background-color: #758192; height: 40px;">
                    <button class="sms" 
                            (click) = 'getOtp()' 
                            *ngIf="!isTimerActive" 
                            type="button"
                            >
                        SMS
                    </button>
                </div>
    
                <button class="right-button mt-3" 
                        *ngIf="isTimerActive" 
                        type="button" 
                        disabled
                        style="background-color: #2ecc71;"
                        >
                        {{ 'transfer_funds.code_sent' | translate }}
                </button>
            </div>
            
        </div>
    
        <div *ngIf="!isLoading;  else showLoading"
             class="transfer__box__item col-12 mt-3 justify-content-center d-flex justify-content-center" 
            >
            <button class="btn btn--green" type="submit">
                {{ 'payments.pay' | translate }}
            </button>
        </div>
     
        <ng-template #showLoading>
            <div class="transfer__box__item col-12 mt-3 d-flex justify-content-center">
                <app-loading-spinner></app-loading-spinner>
            </div>
        </ng-template>
    
        
    </form>

</div>

<ng-template #showPayed>
        
    <div class="pay col" *ngIf="!isPayErr">
        <app-transaction-processing></app-transaction-processing>
    </div>
    
    <div class="pay col" *ngIf ='isPayErr'>
        <app-transaction-fail></app-transaction-fail>
    </div>

</ng-template>
