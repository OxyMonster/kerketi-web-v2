<div class="transfer__box w-100 d-flex justify-content-center" *ngIf="!isPayed; else showPayed">
    <form action="" 
          [formGroup]="sendMoneyForm"
          class="w-100"
          (ngSubmit)="transferToBank(sendMoneyForm)">
    
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="phone">Phone</label>
            <input type="text"  
                    class=""
                    id="phone"
                    name="phone"
                    placeholder=""
                    formControlName="agentName">
        </div>
    
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="amount">Amount</label>
            <input type="text" 
                    class=""
                    id="amount"
                    name="amount"
                    placeholder=""
                    formControlName="amount">
        </div>
    
     
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="description">Description</label>
            <input type="text" 
                    class=""
                    name="description"
                    id="description"
                    placeholder=""
                    formControlName="description">
        </div>
    
     
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="fullname">Fullname</label>
            <input type="text" 
                    class=""
                    id="fullname"
                    name="fullname"
                    placeholder=""
                    formControlName="fullName">
        </div>
    
    
     
        <div class="transfer__box__item col-12 mt-3 justify-content-center">
            <label for="sms">SMS code</label>
            <input type="text" 
                    class=""
                    id="sms"
                    name="sms"
                    placeholder="otp"
                    formControlName="otp">
            <div class="">
                <button class="right-button" 
                        (click) = 'getOtp()' 
                        *ngIf="!isTimerActive" 
                        type="button"
                        >
                    SMS code
                </button>
    
                <button class="right-button" 
                        *ngIf="isTimerActive" 
                        type="button" 
                        disabled
                        style="background-color: #2ecc71;"
                        >Code is sent
                </button>
            </div>
            
        </div>
    
        <div *ngIf="!isLoading;  else showLoading"
             class="transfer__box__item col-12 mt-3 justify-content-center d-flex justify-content-center" 
            >
            <button class="main-button" type="submit">Send</button>
        </div>
     
        <ng-template #showLoading>
            <div class="transfer__box__item col-12 mt-3 d-flex justify-content-center">
                <app-loading-spinner></app-loading-spinner>
            </div>
        </ng-template>
    
        
    </form>

</div>

<ng-template #showPayed>
        
    <div class="pay col" *ngIf="!isPayErr">
        <app-transaction-processing></app-transaction-processing>
    </div>
    
    <div class="pay col" *ngIf ='isPayErr'>
        <app-transaction-fail></app-transaction-fail>
    </div>

</ng-template>
